# Snowflake Connection Configuration
# NOTE: It is RECOMMENDED to use environment variables for security (see README.md)
# Environment variables take precedence over values in this file
# Set these environment variables:
#   SNOWFLAKE_ACCOUNT, SNOWFLAKE_WAREHOUSE, SNOWFLAKE_DATABASE, SNOWFLAKE_SCHEMA
#   SNOWFLAKE_AUTHENTICATOR (optional, defaults to 'externalbrowser')
#   SNOWFLAKE_USER, SNOWFLAKE_PASSWORD (required only if authenticator='snowflake')
#
# If environment variables are not set, these values will be used as fallback:
snowflake:
  account: <your_account>  # e.g., "xy12345.us-east-1" - or set SNOWFLAKE_ACCOUNT env var
  user: <your_user>  # Optional if using SSO - or set SNOWFLAKE_USER env var
  password: <your_password>  # Optional if using SSO - or set SNOWFLAKE_PASSWORD env var
  warehouse: <your_warehouse>  # or set SNOWFLAKE_WAREHOUSE env var
  database: <your_database>  # or set SNOWFLAKE_DATABASE env var
  schema: <your_schema>  # or set SNOWFLAKE_SCHEMA env var
  authenticator: externalbrowser  # 'externalbrowser' for SSO or 'snowflake' for username/password - or set SNOWFLAKE_AUTHENTICATOR env var

# Summary Worksheet Configuration
# You can use two formats:
#
# Format 1 (Simple - uses default query):
#   summary:
#     table_name: <summary_table_name>
#     schedule_titles: {...}
#
# Format 2 (Advanced - custom query):
#   summary:
#     table_name: <summary_table_name>  # Required for validation, but query overrides default
#     query: |  # Optional custom SQL query (if provided, used directly)
#       SELECT Schedule_ID, Description, Value
#       FROM <summary_table_name>
#       WHERE Status = 'Active'
#         AND Year = 2024
#       ORDER BY Schedule_ID
#     filter: "Status = 'Active' AND Year = 2024"  # Optional WHERE clause (only used if query is not provided)
#     schedule_titles: {...}
#
summary:
  table_name: <summary_table_name>  # Table with Schedule_ID, Description, Value columns
  # query: |  # Optional: Custom SQL query (if provided, used directly instead of default)
  #   # NOTE: Table names are automatically resolved to database.schema.table_name
  #   # Use just the table name (e.g., "my_table") and it becomes "database.schema.my_table"
  #   SELECT Schedule_ID, Description, Value
  #   FROM <summary_table_name>
  #   WHERE <your_conditions>
  #   ORDER BY Schedule_ID
  # filter: "Status = 'Active'"  # Optional: WHERE clause filter (only used if query is not provided)
  schedule_titles:
    1: "Schedule 1 - General Information"
    2: "Schedule 2 - Claimants"
    3: "Schedule 3 - Claimant Requests Denied/Not Paid"
    4: "Schedule 4"  # Update with actual title when available
    5: "Schedule 5"  # Update with actual title when available
    6: "Schedule 6"  # Update with actual title when available

# Worksheet Configuration
# You can use two formats:
#
# Format 1 (Simple - uses hardcoded structure):
#   worksheet_name: table_name
#
# Format 2 (Advanced - configurable template type):
#   worksheet_name:
#     table_name: <table_name>
#     template_type: <template_type>
#     query: <optional_custom_query>
#     detail_columns: <optional_list_of_column_names>
#
# Available template types:
#   - 'direct_dump': Detail records only, no summaries
#   - 'direct_dump_state_summary': Detail + Issue State + Resident State summaries
#   - 'direct_dump_tat_summary': Detail + TAT summary (with % of Total)
#   - 'direct_dump_state_tat_summary': Detail + Issue State + Resident State + TAT summaries
#   - 'state_summary_only': Only summaries (Issue State + Resident State), no detail records
#   - 'direct_dump_state_payreq_summary': Detail + Issue State + Resident State + Year Pay Req Received summaries
#
# Examples:
#   # Simple format (uses hardcoded structure)
#   1-001: my_table_1_001
#
#   # Advanced format with template type
#   1-004:
#     table_name: my_table_1_004
#     template_type: direct_dump
#
#   # Direct dump with custom multi-line SQL query
#   # NOTE: Table names in queries are automatically resolved to database.schema.table_name
#   # You can use just the table name (e.g., "my_table") and it will become "database.schema.my_table"
#   # If you need a fully qualified name, use it directly (e.g., "other_db.other_schema.table")
#   1-004:
#     table_name: my_table_1_004
#     template_type: direct_dump
#     query: |
#       SELECT 
#         Policy_Num,
#         Claim_Num,
#         Product,
#         Claim_Status,
#         Company,
#         Issue_State,
#         Resident_State
#       FROM my_table_1_004
#       WHERE Schedule_ID = '1-004'
#         AND Status = 'Active'
#         AND Year = 2024
#       ORDER BY Policy_Num
#
#   # Direct dump with complex multi-line SQL query
#   3-003:
#     table_name: my_table_3_003
#     template_type: direct_dump
#     query: |
#       SELECT 
#         Decision_Date,
#         Inq_Date,
#         Stat_Start_Date,
#         Decision,
#         Decision_Reason,
#         Company,
#         Issue_State,
#         Resident_State,
#         Product,
#         Date_of_Loss
#       FROM my_table_3_003
#       WHERE Schedule_ID = '3-003'
#         AND Decision_Date >= '2024-01-01'
#         AND Decision_Date <= '2024-12-31'
#         AND Status = 'Active'
#       ORDER BY Decision_Date DESC
#
#   # Direct dump with filter (uses default query generation)
#   1-004:
#     table_name: my_table_1_004
#     template_type: direct_dump
#     filter: "Schedule_ID = '1-004' AND Status = 'Active' AND Year = 2024"
#
#   2-001:
#     table_name: my_table_2_001
#     template_type: direct_dump_state_summary
#
#   2-003:
#     table_name: my_table_2_003
#     template_type: direct_dump_tat_summary
#
worksheets:
  # Simple format (backward compatible)
  1-001: <table_name_1_001>
  1-004: <table_name_1_004>
  1-006: <table_name_1_006>
  2-001: <table_name_2_001>
  2-002: <table_name_2_002>
  2-003: <table_name_2_003>
  2-004: <table_name_2_004>
  2-005: <table_name_2_005>
  3-001: <table_name_3_001>
  3-003: <table_name_3_003>
  3-004: <table_name_3_004>
  3-005: <table_name_3_005>
  3-006: <table_name_3_006>
  3-007: <table_name_3_007>
  5-001: <table_name_5_001>
  5-002: <table_name_5_002>
  5-003: <table_name_5_003>
  5-004: <table_name_5_004>
  6-001: <table_name_6_001>
  6-002: <table_name_6_002>
  6-003: <table_name_6_003>
  6-004: <table_name_6_004>
  
  # Advanced format examples (uncomment and customize as needed):
  # 1-004:
  #   table_name: <table_name_1_004>
  #   template_type: direct_dump
  #
  # 2-001:
  #   table_name: <table_name_2_001>
  #   template_type: direct_dump_state_summary
  #
  # 2-003:
  #   table_name: <table_name_2_003>
  #   template_type: direct_dump_tat_summary
  #
  # 5-003:
  #   table_name: <table_name_5_003>
  #   template_type: direct_dump_state_tat_summary
  #
  # 1-001:
  #   table_name: <table_name_1_001>
  #   template_type: state_summary_only
  #
  # 6-004:
  #   table_name: <table_name_6_004>
  #   template_type: direct_dump_state_payreq_summary
